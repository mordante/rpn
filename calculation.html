
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Calculations &#8212; RPN 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="RPN Calculator" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="calculations">
<h1>Calculations<a class="headerlink" href="#calculations" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#named-requirements-conversions" id="id2">Named requirements/conversions</a><ul>
<li><a class="reference internal" href="#unmodified" id="id3">Unmodified</a></li>
<li><a class="reference internal" href="#integral" id="id4">Integral</a></li>
<li><a class="reference internal" href="#positive-integral" id="id5">Positive integral</a></li>
<li><a class="reference internal" href="#double" id="id6">Double</a></li>
<li><a class="reference internal" href="#bitwise-operations-cast" id="id7">Bitwise operations cast</a></li>
<li><a class="reference internal" href="#store-prefer-int64-t" id="id8">Store prefer <code class="docutils literal notranslate"><span class="pre">int64_t</span></code></a></li>
<li><a class="reference internal" href="#store-prefer-uint64-t" id="id9">Store prefer <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#arithmetic-operations" id="id10">Arithmetic operations</a><ul>
<li><a class="reference internal" href="#add" id="id11">Add</a></li>
<li><a class="reference internal" href="#subtract" id="id12">Subtract</a></li>
<li><a class="reference internal" href="#multiply" id="id13">Multiply</a></li>
<li><a class="reference internal" href="#divide" id="id14">Divide</a></li>
<li><a class="reference internal" href="#negate" id="id15">Negate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bitwise-logical-operations" id="id16">Bitwise logical operations</a><ul>
<li><a class="reference internal" href="#generic" id="id17">Generic</a></li>
<li><a class="reference internal" href="#complement" id="id18">Complement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bitwise-shifts" id="id19">Bitwise shifts</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The elements on the stack have the following underlying types:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">int64_t</span></code> a 64-bit signed integral.</li>
<li><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> a 64-bit unsigned integral.</li>
<li><code class="docutils literal notranslate"><span class="pre">double</span></code> a double precision floating-point value.</li>
</ul>
<p>The engine mandates <code class="docutils literal notranslate"><span class="pre">sizeof(int64_t)</span> <span class="pre">==</span> <span class="pre">sizeof(uint64_t)</span> <span class="pre">==</span> <span class="pre">sizeof(double)</span></code>.
For most types this isn’t a real issue, but some bitwise operations execute
bit-casts.</p>
<p>Depending on the operation used the types used have different requirements.
This page describes these requirements. First an generic set of named
requirements. After that the requirements per type. When a requirement isn’t
met the integral algorithm will throw an exception. This is shown as a
diagnostic in the user interface.</p>
<p>The conventions uses some other terms:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> the first element popped from the stack.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> the second element popped from the stack.</li>
<li><code class="docutils literal notranslate"><span class="pre">value</span></code> the first element popped from the stack, for operations using only
one element.</li>
<li><code class="docutils literal notranslate"><span class="pre">result</span></code> the result of the operation. The type of the result described is
what’s expected of the engine. How it handles this internally isn’t
specified. That’s especially important for overflows. In that case the engine
might need to do the conversion on <code class="docutils literal notranslate"><span class="pre">lhs</span></code> or <code class="docutils literal notranslate"><span class="pre">rhs</span></code> prior to the operation.</li>
</ul>
</div>
<div class="section" id="named-requirements-conversions">
<h2><a class="toc-backref" href="#id2">Named requirements/conversions</a><a class="headerlink" href="#named-requirements-conversions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="unmodified">
<span id="conversion-unmodified"></span><h3><a class="toc-backref" href="#id3">Unmodified</a><a class="headerlink" href="#unmodified" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">int64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">double</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">double</span></code> value.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="integral">
<h3><a class="toc-backref" href="#id4">Integral</a><a class="headerlink" href="#integral" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">int64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">double</span></code></dt>
<dd><ul class="first last simple">
<li>Requires: The number has no fractional part.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&lt;</span> <span class="pre">0</span></code><ul>
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&gt;=</span> <span class="pre">INT64_MIN</span></code></li>
<li>Returns: <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> equivalent of the value.</li>
</ul>
</li>
<li>Else<ul>
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&lt;=</span> <span class="pre">UINT64_MAX</span></code></li>
<li>Returns: <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> equivalent of the value.</li>
</ul>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="positive-integral">
<span id="conversion-positive"></span><h3><a class="toc-backref" href="#id5">Positive integral</a><a class="headerlink" href="#positive-integral" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">int64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</li>
<li>Returns: <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> equivalent of the value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</li>
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">double</span></code></dt>
<dd><ul class="first last simple">
<li>Requires: The number has no fractional part.</li>
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&gt;</span> <span class="pre">0</span></code></li>
<li>Requires: <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&lt;=</span> <span class="pre">UINT64_MAX</span></code></li>
<li>Returns: <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> equivalent of the value.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="double">
<span id="conversion-double"></span><h3><a class="toc-backref" href="#id6">Double</a><a class="headerlink" href="#double" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">int64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: the value, possible lossy, converted to a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: the value, possible lossy, converted to a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">double</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">double</span></code> value.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="bitwise-operations-cast">
<span id="conversion-bitwise"></span><h3><a class="toc-backref" href="#id7">Bitwise operations cast</a><a class="headerlink" href="#bitwise-operations-cast" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">int64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: the value converted to an <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> using modulo arithmetic.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value.</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">double</span></code></dt>
<dd><ul class="first last simple">
<li>Returns: the value bit_casted to an <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code>. The exact value depends
on the system’s <code class="docutils literal notranslate"><span class="pre">double</span></code> representation.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="store-prefer-int64-t">
<span id="to-storage-int64-t"></span><h3><a class="toc-backref" href="#id8">Store prefer <code class="docutils literal notranslate"><span class="pre">int64_t</span></code></a><a class="headerlink" href="#store-prefer-int64-t" title="Permalink to this headline">¶</a></h3>
<p>Stores the <code class="docutils literal notranslate"><span class="pre">result</span></code>, when a value can be stored in the range of both an
<code class="docutils literal notranslate"><span class="pre">int64_t</span></code> and an <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> this version uses the <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>.</p>
<ul class="simple">
<li>If <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">&gt;=</span> <span class="pre">INT64_MIN</span> <span class="pre">&amp;&amp;</span> <span class="pre">result</span> <span class="pre">&lt;=</span> <span class="pre">INT64_MAX</span></code>:<ul>
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> result.</li>
</ul>
</li>
<li>Else if <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">&lt;=</span> <span class="pre">UINT64_MAX</span></code>:<ul>
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> result.</li>
</ul>
</li>
<li>Else:<ul>
<li>Returns: the result, possible lossy, converted to a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="store-prefer-uint64-t">
<span id="to-storage-uint64-t"></span><h3><a class="toc-backref" href="#id9">Store prefer <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code></a><a class="headerlink" href="#store-prefer-uint64-t" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">&gt;=</span> <span class="pre">INT64_MIN</span> <span class="pre">&amp;&amp;</span> <span class="pre">result</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>:<ul>
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> result.</li>
</ul>
</li>
<li>Else if <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">&lt;=</span> <span class="pre">UINT64_MAX</span></code>:<ul>
<li>Returns: unmodified <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> result.</li>
</ul>
</li>
<li>Else:<ul>
<li>Returns: the result, possible lossy, converted to a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="arithmetic-operations">
<h2><a class="toc-backref" href="#id10">Arithmetic operations</a><a class="headerlink" href="#arithmetic-operations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add">
<h3><a class="toc-backref" href="#id11">Add</a><a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If either <code class="docutils literal notranslate"><span class="pre">lhs</span></code> or <code class="docutils literal notranslate"><span class="pre">rhs</span></code> is a double:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li>Returns: a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</li>
<li>Else if both <code class="docutils literal notranslate"><span class="pre">lhs</span></code> and <code class="docutils literal notranslate"><span class="pre">rhs</span></code> are an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-int64-t"><span class="std std-ref">store_prefer_int64_t</span></a>.</li>
</ul>
</li>
<li>Else:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-uint64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="subtract">
<h3><a class="toc-backref" href="#id12">Subtract</a><a class="headerlink" href="#subtract" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If either <code class="docutils literal notranslate"><span class="pre">lhs</span></code> or <code class="docutils literal notranslate"><span class="pre">rhs</span></code> is a double:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li>Returns: a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</li>
<li>Else if both <code class="docutils literal notranslate"><span class="pre">lhs</span></code> and <code class="docutils literal notranslate"><span class="pre">rhs</span></code> are an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-int64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</li>
<li>Else:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-uint64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="multiply">
<h3><a class="toc-backref" href="#id13">Multiply</a><a class="headerlink" href="#multiply" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If either <code class="docutils literal notranslate"><span class="pre">lhs</span></code> or <code class="docutils literal notranslate"><span class="pre">rhs</span></code> is a double:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li>Returns: a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</li>
<li>Else if both <code class="docutils literal notranslate"><span class="pre">lhs</span></code> and <code class="docutils literal notranslate"><span class="pre">rhs</span></code> are an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-int64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</li>
<li>Else:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-uint64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="divide">
<h3><a class="toc-backref" href="#id14">Divide</a><a class="headerlink" href="#divide" title="Permalink to this headline">¶</a></h3>
<p>The division algorithm can be optimized, using the integral results if there’s
no fraction. This might be improved later.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-double"><span class="std std-ref">double converted</span></a>.</li>
<li>Returns: a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</li>
</ul>
</div>
<div class="section" id="negate">
<h3><a class="toc-backref" href="#id15">Negate</a><a class="headerlink" href="#negate" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">value</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: <a class="reference internal" href="#to-storage-uint64-t"><span class="std std-ref">store_prefer_uint64_t</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="bitwise-logical-operations">
<h2><a class="toc-backref" href="#id16">Bitwise logical operations</a><a class="headerlink" href="#bitwise-logical-operations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="generic">
<h3><a class="toc-backref" href="#id17">Generic</a><a class="headerlink" href="#generic" title="Permalink to this headline">¶</a></h3>
<p>The bitwise operations <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, and <code class="docutils literal notranslate"><span class="pre">xor</span></code> all have the same
conversion behaviour.</p>
<ul class="simple">
<li>If both <code class="docutils literal notranslate"><span class="pre">lhs</span></code> and <code class="docutils literal notranslate"><span class="pre">rhs</span></code> are an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>.</li>
</ul>
</li>
</ul>
<p>Else:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-bitwise"><span class="std std-ref">bitwise uint64_t casted</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code> is <a class="reference internal" href="#conversion-bitwise"><span class="std std-ref">bitwise uint64_t casted</span></a>.</li>
<li>Returns: an <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="complement">
<h3><a class="toc-backref" href="#id18">Complement</a><a class="headerlink" href="#complement" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">value</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
<li>Returns: an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>.</li>
</ul>
</li>
</ul>
<p>Else:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">value</span></code> is <a class="reference internal" href="#conversion-bitwise"><span class="std std-ref">bitwise uint64_t casted</span></a>.</li>
<li>Returns: an <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code>.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="bitwise-shifts">
<h2><a class="toc-backref" href="#id19">Bitwise shifts</a><a class="headerlink" href="#bitwise-shifts" title="Permalink to this headline">¶</a></h2>
<p>The bitwise shift left and shift right have the same conversion behaviour.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code>:<ul>
<li>If an <code class="docutils literal notranslate"><span class="pre">int64_t</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-unmodified"><span class="std std-ref">unmodified</span></a>.</li>
</ul>
</li>
<li>Else:<ul>
<li><code class="docutils literal notranslate"><span class="pre">lhs</span></code> is <a class="reference internal" href="#conversion-bitwise"><span class="std std-ref">bitwise uint64_t casted</span></a>.</li>
</ul>
</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">rhs</span></code>:<ul>
<li>is <a class="reference internal" href="#conversion-positive"><span class="std std-ref">a positive integral</span></a>.</li>
<li>Requires: <code class="docutils literal notranslate"><span class="pre">rhs</span> <span class="pre">&lt;=</span> <span class="pre">64</span></code>.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">result</span></code> the type used for <code class="docutils literal notranslate"><span class="pre">lhs</span></code>.</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Mark de Wever.
      
      |
      <a href="_sources/calculation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>